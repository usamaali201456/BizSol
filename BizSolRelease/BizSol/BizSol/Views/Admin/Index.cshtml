@using  PagedList.Mvc
@model  PagedList.IPagedList<BizSol.Entities.AdPost>

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

}
    

<head>
    <style>
        .badge {
            position: absolute;
            top: -10px;
            right: -10px;
            padding: 5px 10px;
            border-radius: 50%;
            background-color: red;
            color: white;
        }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" media="all" href="http://demo.joinwebs.com/classiera/pearl/wp-content/cache/autoptimize/css/autoptimize_142f87d829badc91c2fec7c27bf74aa1.css" rel="stylesheet" />
    <link type="text/css" media="only screen and (max-width: 768px)" href="http://demo.joinwebs.com/classiera/pearl/wp-content/cache/autoptimize/css/autoptimize_dcb2de333eec7ab4ae31385ed8d6a393.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<div class="row">
    @using (Html.BeginForm("Index", "Admin", FormMethod.Post))
    {
        <div class="form-horizontal">
            <div class="form-group">
                @Html.Label("Search", new { @class = "col-md-2 control-label" })
                <div class="col-md-6">
                    @Html.TextBox("searchAds", null, new { @class = "form-control", @placeholder = "Search Here!", @style = "max-width: 100%" })
                </div>
                <div class="col-md-2">
                    <button class="btn btn-primary" type="submit" style="padding:8px"><span class="glyphicon"></span>Search</button>
                </div>

            </div>
        </div>
    }
    <section class="border-bottom top-pad-50">
        <div class="user-contact-details">
            <h4 class="user-detail-section-heading text-uppercase" style="text-align:center">
               All Ads
            </h4>
            <ul class="list-unstyled"></ul>
        </div>
    </section>
    <section class="inner-page-content border-bottom top-pad-50">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-lg-9">
                   
                    <section class="classiera-advertisement advertisement-v5 section-pad-80 border-bottom">
                        <div class="tab-divs">
                            <div class="view-head">
                                <div class="container">
                                    <div class="row">


                                    </div><!--row-->
                                </div><!--container-->
                            </div><!--view-head-->
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane fade in active" id="all">
                                    <div class="container">
                                        <div class="row">
                                            <!--FeaturedPosts-->

                                            @{
                                                if (Model != null)
                                                {
                                                    foreach (var item in Model)
                                                    {

                                                        <div class="col-lg-4 col-md-4 col-sm-6 match-height item item-grid">
                                                            <div class="classiera-box-div classiera-box-div-v5">
                                                                <figure class="clearfix">
                                                                    <div class="premium-img">

                                                                        <img class="img-responsive" src="@Url.Content(item.AdsImages.FirstOrDefault().ImagePath)" alt="@item.Title">
                                                                        <span class="hover-posts">
                                                                            <a href="@Url.Action("ViewAd","Ads", new { id = @item.PostId })">View Ad</a>
                                                                        </span>
                                                                        <span class="price">
                                                                            RS :
                                                                            @item.Price
                                                                        </span>
                                                                        <span class="classiera-buy-sel">
                                                                            For Sale
                                                                        </span>
                                                                    </div><!--premium-img-->
                                                                    <div class="detail text-center">
                                                                        <span class="price">
                                                                            RS :
                                                                            @item.Price
                                                                        </span>

                                                                        <a href="@Url.Action("ViewAd","User", new { id = @item.PostId })" class="btn btn-primary outline btn-style-five">View Ad</a>
                                                                    </div><!--detail text-center-->
                                                                    <figcaption>
                                                                        <span class="price visible-xs">
                                                                            RS :
                                                                            @item.Price
                                                                        </span>
                                                                        <h5><a href="@Url.Action("ViewAd","User", new { id = @item.PostId })">@(item.Title.Length > 23 ? item.Title.Substring(0, 22) : item.Title)</a></h5>
                                                                        <div class="category">
                                                                            <span style="float:left">


                                                                                Condition : @item.Condition

                                                                            </span>

                                                                            <span style="margin-left:80%">
                                                                                @item.WhenAdded.Date.ToString("dd/MMM/yy")


                                                                            </span>
                                                                            <span>
                                                                                Location :
                                                                                <a href="#">United Kingdom</a>
                                                                            </span>
                                                                        </div>
                                                                        <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec aliquet fringilla metus vitae tincidunt. Nullam porttitor porta ex, quis fringilla elit viverra vel. Pellentesque vitae orci ut mi tincidunt varius. Praesent sed leo tincidunt lacus porttitor laore</p>
                                                                    </figcaption>
                                                                </figure>
                                                                <a href="@Url.Action("EditAd","User",new { adId=@item.PostId})" class="btn btn-primary btn-md btn-style-one sharp">
                                                                    Edit
                                                                </a>
                                                                <button class="btn btn-danger btn-md btn-style-one sharp deleteBtn" type="button" data-id="@item.PostId">Delete</button>
                                                                @*</a> <a href="@Url.Action(" DeleteAd","User",new { id=@item.PostId})" class="btn btn-danger btn-md btn-style-one sharp">
                                                                        Delete
                                                                    </a>*@
                                                            </div><!--row-->
                                                        </div><!--col-lg-4--> }
                                                }
                                            }

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </section>
    <div id="container" style="margin-left: 20px">
        <p></p>
        <p></p>
        <div class="pagination" style="margin-left: 400px">
            Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
            of @Model.PageCount   @Html.PagedListPager(Model, page => Url.Action("Index", new { page }));
        </div>
    </div>
</div>


<script>
    $(".deleteBtn").click(function () {
        debugger;
		swal({
			title: "Confirm?",
			text: "Are you sure you want to delete this product?",
			icon: "warning",
			buttons: true,
			dangerMode: true,
		})
		.then((willDelete) => {
			if (willDelete) {
				$.ajax({
					type: 'POST',
					url: '@Url.Action("DeleteAd", "Admin")',
					data: {
						adId: $(this).attr('data-id')
					}
				})
				.done(function () {

					swal("Record deleted Successfully.", {
						icon: "success",
					});
				})
				.fail(function (XMLHttpRequest, textStatus, errorThrown) {
					alert("FAIL");
				});

			}
        });
        });

</script>

@*<script src="~/CustomContant2/ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js"></script>*@
@*<script type="text/javascript" src="http://demo.joinwebs.com/classiera/pearl/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp"></script>*@
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
@*<script type='text/javascript' src='https://maps.googleapis.com/maps/api/js?key=AIzaSyD_eedfelAnZq5O5B9nEYJvLeepSW6uDHM&#038;language=en&#038;v=3.exp&#038;ver=2014-07-18'></script>*@
<script type="text/javascript" defer src="http://demo.joinwebs.com/classiera/pearl/wp-content/cache/autoptimize/js/autoptimize_6fa5a7c73b7c87e86fc901ea61fca9dd.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js" type="text/javascript" async=""></script>



<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script>
    document.querySelector('.mini-photo-wrapper').addEventListener('click', function () {
        document.querySelector('.menu-container').classList.toggle('active');
    });

</script>
<script type='text/javascript'>
    /* <![CDATA[ */
    var thickboxL10n = { "next": "Next >", "prev": "< Prev", "image": "Image", "of": "of", "close": "Close", "noiframes": "This feature requires inline frames. You have iframes disabled or your browser does not support them.", "loadingAnimation": "http:\/\/demo.joinwebs.com\/classiera\/pearl\/wp-includes\/js\/thickbox\/loadingAnimation.gif" };
/* ]]> */
</script>